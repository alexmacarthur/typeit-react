/** TypeIt by Alex MacArthur <alex@macarthur.me> (https://macarthur.me) - https://typeitjs.com*/
import*as n from"react";var t=function(){return(t=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)};function e(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var i=[null,null,{}],o=function(n,t){return Object.assign({},n,t)},u=function(n){return Array.from(n)},c=function(n){return(new DOMParser).parseFromString(n,"text/html").body},a=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u(t.childNodes).flatMap((function(t){return 3===(e=t).nodeType||"BR"===e.tagName?t:n(t);var e}));return e&&(i=i.filter((function(n){return!e.contains(n)}))),r?i.reverse():i},f=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{node:t,content:n}};function s(n){var t=c(n);return a(t).flatMap((function(n){return n.nodeValue?u(n.nodeValue).map((function(t){return f(t,n)})):f(n)}))}function l(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?s(n):u(n).map((function(n){return f(n)}))}var v=function(n){return document.createElement(n)},h=function(n){return document.createTextNode(n)},d=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=v("style");e.id=t,e.appendChild(h(n)),document.head.appendChild(e)},m=function(n){return Array.isArray(n)},p=function(n){return Number.isInteger(n)},y=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t["querySelector"+(e?"All":"")](n)},g={started:!1,completed:!1,frozen:!1,destroyed:!1},b={breakLines:!0,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},P=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"START",r=new RegExp("END","i").test(e),i=y(".ti-cursor",t),o=n?y(n,t):t,u=a(o,i,!0),c=u[0],f=u[u.length-1],s=r&&!n?0:a(t,i,!0).findIndex((function(n){return n.isSameNode(r?c:f)}));return r&&s--,s+1},S=function(n){return m(n)||(n=[n/2,n/2]),n},w=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))},j=function(n){return n/2},N=function(n){return"value"in n},M=function(n){return"function"==typeof n?n():n},E=function(n){return"BODY"===n.tagName},T=function(n,t){var e=u(y("*",t,!0));return[t].concat(e.reverse()).find((function(t){return t.cloneNode().isEqualNode(n.cloneNode())}))},O=function(n,t,e,r){var i=t.content instanceof HTMLElement,o=t.node,u=null==o?void 0:o.parentNode,c=i?t.content:h(t.content);if(N(n))n.value=""+n.value+t.content;else{if(!i&&u&&!E(u)){var f=T(u,n);if(f&&function(n,t){var e=n.nextSibling;return!e||e.isEqualNode(t)}(f,e))n=f;else{(c=u.cloneNode()).appendChild(h(t.content));var s=u.parentNode,l=s.cloneNode();if(!E(s)){for(var v=T(l,n);!v&&!E(s);){var d=l;d.innerHTML=c.outerHTML,c=d,l=(s=s.parentNode).cloneNode(),v=T(l,n)}n=v||n}}}var m=a(n,e,!0)[r-1],p=m?m.parentNode:n;p.insertBefore(c,p.contains(e)?e:null)}},x=function(n){return n&&n.remove()},A=["font-family","font-weight","font-size","font-style","line-height","color"];function I(n,t,e){if(!n.s){if(e instanceof L){if(!e.s)return void(e.o=I.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(I.bind(null,n,t),I.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var L=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{I(r,1,o(this.v))}catch(n){I(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?I(r,1,t?t(i):i):e?I(r,1,e(i)):I(r,2,i)}catch(n){I(r,2,n)}},r},n}();function D(n){return n instanceof L&&1&n.s}function k(n,t,e){var r,i,o=-1;return function u(c){try{for(;++o<n.length&&(!e||!e());)if((c=t(o))&&c.then){if(!D(c))return void c.then(u,i||(i=I.bind(null,r=new L,2)));c=c.v}r?I(r,1,c):r=c}catch(n){I(r||(r=new L),2,n)}}(),r}function C(n,t,e){for(var r;;){var i=n();if(D(i)&&(i=i.v),!i)return o;if(i.then){r=0;break}var o=e();if(o&&o.then){if(!D(o)){r=1;break}o=o.s}if(t){var u=t();if(u&&u.then&&!D(u)){r=2;break}}}var c=new L,a=I.bind(null,c,2);return(0===r?i.then(s):1===r?o.then(f):u.then(l)).then(void 0,a),c;function f(r){o=r;do{if(t&&(u=t())&&u.then&&!D(u))return void u.then(l).then(void 0,a);if(!(i=n())||D(i)&&!i.v)return void I(c,1,o);if(i.then)return void i.then(s).then(void 0,a);D(o=e())&&(o=o.v)}while(!o||!o.then);o.then(f).then(void 0,a)}function s(n){n?(o=e())&&o.then?o.then(f).then(void 0,a):f(o):I(c,1,o)}function l(){(i=n())?i.then?i.then(s).then(void 0,a):s(i):I(c,1,o)}}function B(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=this,E=function(n,t){try{return Promise.resolve(function(n,t,e){try{return Promise.resolve(new Promise((function(r){e.push(setTimeout((function(){try{return Promise.resolve(n()).then((function(){r()}))}catch(n){return Promise.reject(n)}}),t))})))}catch(n){return Promise.reject(n)}}(n,t,K))}catch(n){return Promise.reject(n)}},T=function(){return N(J)},I=function(n){return function(n){var t=n.speed,e=n.deleteSpeed;return e=null!==e?e:t/3,n.lifeLike?[w(t,j(t)),w(e,j(e))]:[t,e]}(_)[n]},L=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n?I(t):0},D=function(n,e){return tn.add(n),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.delay;t&&tn.add([[V,t]])}(e),t},B=function(){return function(n){return N(n)?u(n.value):a(n,y(".ti-cursor",n),!0)}(J)},H=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[Q,n],[Q,_]]},R=function(n){var t=_.nextStringDelay;tn.add([[V,t[0]]].concat(e(n),[[V,t[1]]]))},z=function(n){rn&&(on.classList.toggle("disabled",n),on.classList.toggle("with-delay",!n))},q=function n(){try{var t;Z.started=!0;var r,i=tn.getItems(),o=function(o,u){try{var c=function(){function o(t){var i;return Z.completed=!0,Promise.resolve((i=_).afterComplete.apply(i,e(r))).then((function(){if(!_.loop)throw"";var t=_.loopDelay;E((function(){try{return Promise.resolve(function(n){try{var t=function(t){return tn.reset(),tn.set(0,[V,n,{}]),Promise.resolve($({num:null})).then((function(){}))};return Promise.resolve(W?Promise.resolve(F({value:W})).then(t):t())}catch(n){return Promise.reject(n)}}(t[0])).then((function(){n()}))}catch(n){return Promise.reject(n)}}),t[1])}))}var u=k(i,(function(n){var t;if(Z.frozen||Z.destroyed)throw"";var o=i[n],u=o[2];return r=[o,h],u.freezeCursor&&z(!0),Promise.resolve((t=_).beforeStep.apply(t,e(r))).then((function(){return Promise.resolve(o[0].call(h,o[1],u)).then((function(){var t;return Promise.resolve((t=_).afterStep.apply(t,e(r))).then((function(){tn.setMeta(n,{executed:!0}),z(!1)}))}))}))}),(function(){return t}));return u&&u.then?u.then(o):o()}()}catch(n){return}return c&&c.then?c.then(void 0,(function(){})):c}();return Promise.resolve(o&&o.then?o.then((function(n){return h})):h)}catch(n){return Promise.reject(n)}},V=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return E((function(){}),n)},F=function(n){var t=n.value,e=n.to,r=void 0===e?"START":e,i=n.instant,o=void 0!==i&&i;try{var u=function(n){var t=n.el,e=n.move,r=n.cursorPos,i=n.to;return p(e)?-1*e:P(e,t,i)-r}({el:J,move:t,cursorPos:W,to:r}),c=function(){W+=u<0?-1:1,function(n,t,e,r){var i=t[Math.min(r,t.length)-1];(n=(null==i?void 0:i.parentNode)||n).insertBefore(e,i||null)}(J,B(),on,W)};return Promise.resolve(E((function(){try{var n=0,t=C((function(){return n<Math.abs(u)}),(function(){return n++}),(function(){return o?void c():Promise.resolve(E(c,I(0))).then((function(n){}))}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(n){return Promise.reject(n)}}),L(o))).then((function(){}))}catch(t){return Promise.reject(t)}},U=function(n){var t=n.chars,e=n.instant,r=n.silent;return E((function(){try{var n=function(n){function o(){return r?void 0:Promise.resolve(_.afterString(t)).then((function(n){}))}var u=k(t,(function(n){return e?void i(t[n]):Promise.resolve(E((function(){i(t[n])}),I(0))).then((function(n){}))}));return u&&u.then?u.then(o):o()},i=function(n){return O(J,n,on,W)};return Promise.resolve(r?n():Promise.resolve(_.beforeString(t)).then(n))}catch(n){return Promise.reject(n)}}),L(e))},Q=function(n){try{return _=o(_,n),Promise.resolve()}catch(n){return Promise.reject(n)}},Y=function(){try{return T()?(J.value="",Promise.resolve()):(B().forEach((function(n){x(n)})),Promise.resolve())}catch(n){return Promise.reject(n)}},$=function n(t){var e=t.num,r=void 0===e?null:e,i=t.instant,o=void 0!==i&&i,u=t.to,c=void 0===u?"START":u;try{return Promise.resolve(E((function(){try{var n=function(n){return p(n)?n:P(n,J,c)}(r),t=function(){var n,t=B();t.length&&(T()?J.value=J.value.slice(0,-1):(x(t[W]),n=on,y("*",J,!0).forEach((function(t){if(!t.innerHTML&&"BR"!==t.tagName&&!t.isSameNode(n)){for(var e=t;1===e.parentElement.childNodes.length;)e=e.parentElement;x(e)}}))))},e=0,i=C((function(){return e<n}),(function(){return e++}),(function(){return o?void t():Promise.resolve(E(t,I(1))).then((function(n){}))}));return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(n){return Promise.reject(n)}}),L(o,1))).then((function(){var t=function(){if(null===r&&B().length-1>0)return Promise.resolve(n({num:null})).then((function(){}))}();if(t&&t.then)return t.then((function(){}))}))}catch(r){return Promise.reject(r)}};this.break=function(n){var t=f(v("BR"));return D([[U,{chars:[t],silent:!0}]],n)},this.delete=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=M(n);var e=H(t),r=n,i=t.instant,o=t.to;return D([e[0],[$,{num:r,instant:i,to:o},X],e[1]],t)},this.empty=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D([[Y]],n)},this.exec=function(n,t){var e=H(t);return D([e[0],[n,null],e[1]],t)},this.move=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=M(n);var e=H(t),r=t.instant,i=t.to;return D([e[0],[F,{value:null===n?"":n,to:i,instant:r},X],e[1]],t)},this.options=function(n){return n=M(n),D([[Q,n]],n)},this.pause=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D([[V,M(n)]],t)},this.type=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=M(n);var e=H(t),r=l(n,_.html),i=t.instant;return D([e[0],[U,{chars:r,instant:i},X],e[1]],t)},this.is=function(n){return Z[n]},this.destroy=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];K.forEach((function(n){return clearTimeout(n)})),K=[],M(n)&&x(on),Z.destroyed=!0},this.freeze=function(){Z.frozen=!0},this.unfreeze=function(){Z.frozen=!1,q()},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),tn.reset(),W=0,Z)Z[n]=!1;return J[T()?"value":"innerHTML"]="",this},this.go=function(){return Z.started?this:(function(){try{var n=function(n){requestAnimationFrame((function(){requestAnimationFrame((function(){var n=on.getBoundingClientRect().width/2;on.style.margin="0 -"+(n+2)+"px 0 -"+(n-2)+"px"}))}))};if(!T()&&J.appendChild(on),!rn)return Promise.resolve();!function(n,t,e){var r="[data-typeit-id='"+n+"'] .ti-cursor",i=getComputedStyle(e),o=A.reduce((function(n,t){return n+" "+t+": var(--ti-"+t+", "+i[t]+");"}),"");d("@keyframes blink-"+n+" { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } "+r+" { display: inline; "+o+" animation: blink-"+n+" "+t.cursorSpeed/1e3+"s infinite; } "+r+".with-delay { animation-delay: 500ms; } "+r+".disabled { animation: none; }",n)}(nn,_,J);var t="loaded"===document.fonts.status;Promise.resolve(t?n():Promise.resolve(document.fonts.ready).then(n))}catch(n){return Promise.reject(n)}}(),_.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}(J,q.bind(this)),this):(q(),this))},this.getQueue=function(){return tn},this.getOptions=function(){return _},this.getElement=function(){return J};var G,J="string"==typeof(G=n)?y(G):G,K=[],W=0,X={freezeCursor:!0},Z=o({},g),_=o(b,r);_=o(_,{html:!T()&&_.html,nextStringDelay:S(_.nextStringDelay),loopDelay:S(_.loopDelay)});var nn=Math.random().toString().substring(2,9),tn=function(n){var t=function(n){return e=e.concat(n.map((function(n){return i.map((function(t,e){return n[e]?n[e]:t}))}))),this},e=[];return t(n),{add:t,set:function(n,t){e[n]=t},reset:function(){e=e.map((function(n){return n[2].executed=!1,n}))},getItems:function(){return e.filter((function(n){return!n[2].executed}))},setMeta:function(n,t){e[n][2]=o(e[n][2],t)}}}([[V,_.startDelay]]);J.dataset.typeitId=nn,d("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}");var en,rn=_.cursor&&!T(),on=function(){if(!T()){var n=v("span");return n.className="ti-cursor",rn?(n.innerHTML=c(_.cursorChar).innerHTML,n):(n.style.visibility="hidden",n)}}();_.strings=function(n){var t=J.innerHTML;return t?(J.innerHTML="",_.startDelete?(s(t).forEach((function(n){O(J,n,on,W)})),R([[$,{num:null}]]),n):t.trim().split(/<br(?:\s*?)(?:\/)?>/).concat(n)):n}(m(en=_.strings)?en:[en]),_.strings.length&&function(){var n=_.strings.filter((function(n){return!!n}));n.forEach((function(t,e){var r=l(t,_.html);if(tn.add([[U,{chars:r},X]]),e+1!==n.length){var i=_.breakLines?[[U,{chars:[f(v("BR"))]},X]]:[[$,{num:r.length},X]];R(i)}}))}()}var H=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],R=n.useRef,z=n.useEffect,q=n.useState,V=n.useMemo,F=function(e){var r=q(!0),i=r[0],o=r[1],u=R(null),c=e.options,a=e.element,f=e.children,s=e.getBeforeInit,l=e.getAfterInit,v=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}(e,["options","element","children","getBeforeInit","getAfterInit"]),h=a,d=V((function(){return n=h,H.indexOf(n.toLowerCase())>-1;var n}),[h]);return z((function(){f&&(c.strings=u.current.innerHTML),o(!1)}),[]),z((function(){if(!i){var n=new B(u.current,t({},c));return(n=s(n)).go(),n=l(n),function(){n.destroy()}}}),[i]),n.createElement("div",{style:{opacity:i?0:1}},d?n.createElement(h,t({ref:u},v)):n.createElement(h,t({ref:u},v),i&&f))};F.defaultProps={element:"span",options:{},getBeforeInit:function(n){return n},getAfterInit:function(n){return n}};export{F as default};
